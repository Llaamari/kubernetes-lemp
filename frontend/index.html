<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kubernetes LEMP Stack</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="/kube/">
</head>
<body>
    <h1>LEMP Stack Kubernetesissa</h1>
    <p>Frontend: Nginx | Backend: Flask | Database: MySQL</p>

    <button onclick="health()">Health</button>
    <button onclick="initDb()">Init DB</button>
    <button onclick="users()">Get Users</button>

    <pre id="out"></pre>

<script>
const out = document.getElementById("out");

async function health() {
  out.textContent = JSON.stringify(
    await (await fetch("api/health")).json(), null, 2
  );
}

async function initDb() {
  out.textContent = JSON.stringify(
    await (await fetch("api/init-db")).json(), null, 2
  );
}

async function users() {
  out.textContent = JSON.stringify(
    await (await fetch("api/users")).json(), null, 2
  );
}
</script>
</body>
</html>
